<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funding form</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="styles/funding-interface-form.css">
    <link rel="stylesheet" href="styles/index.css">
    <link rel="stylesheet" href="styles/header-footer.css">
    <link rel="stylesheet" href="styles/notification-bell.css">
</head>

<body>
    <!-- Header -->
    <div id="headerPlaceholder"></div>

    <div class="container">
        <h1>Create a Fundraiser</h1>

        <form id="fundraiserForm" action="php/funding-interface-form.php" method="POST" enctype="multipart/form-data">
            <!-- Category -->
            <div class="form-group category-section">
                <label class="category-label">Category</label>
                <div class="category-buttons">
                    <button type="button" class="category-btn" data-category="education">Education</button>
                    <button type="button" class="category-btn" data-category="medical">Medical</button>
                    <button type="button" class="category-btn" data-category="community">Community</button>
                    <button type="button" class="category-btn" data-category="emergency">Emergency</button>
                    <button type="button" class="category-btn" data-category="custom">Custom</button>

                    <input type="hidden" name="category" id="hiddenCategory">
                    <input type="text" name="custom_category" id="customCategory" class="custom-input"
                        placeholder="Enter custom category">
                </div>
            </div>

            <!-- 1. Fundraiser Title -->
            <div class="form-group">
                <label class="section-label">1. Fundraiser Title</label>
                <input type="text" name="title" id="title" placeholder="Winter Clothes for Street Children"
                    maxlength="100" required>
                <div class="char-counter" id="titleCounter">0 / 100 characters</div>
            </div>

            <!-- Cover Photo Upload -->
            <div class="form-group">
                <label class="section-label">Cover Photo (Optional)</label>
                <p class="helper-text">Upload a cover photo for your campaign. If not provided, a default image based on
                    your category will be used.</p>

                <div class="cover-photo-upload">
                    <div class="cover-photo-preview" id="coverPhotoPreview">
                        <i class="fas fa-image" style="font-size: 48px; color: #00bfa5; margin-bottom: 10px;"></i>
                        <p style="color: #888; font-size: 14px;">No cover photo selected</p>
                        <p style="color: #666; font-size: 12px;">Default category image will be used</p>
                    </div>
                    <input type="file" name="cover_photo" id="coverPhotoInput"
                        accept="image/jpeg,image/jpg,image/png,image/gif,image/webp" hidden>
                    <button type="button" class="cover-upload-btn" id="coverPhotoBtn" style="margin-top: 12px;">
                        <i class="fas fa-camera"></i> Choose Cover Photo
                    </button>
                    <button type="button" class="remove-btn" id="removeCoverPhotoBtn"
                        style="display: none; margin-top: 12px; margin-left: 10px; background: #e74c3c;">
                        <i class="fas fa-times"></i> Remove
                    </button>
                </div>
            </div>

            <!-- 2. Summary of the Situation -->
            <div class="form-group">
                <label class="section-label">2. Summary of the Situation</label>
                <textarea name="summary" id="summary" placeholder="Summary" rows="4" required></textarea>
            </div>

            <!-- Target Details (New Section based on DB) -->
            <div class="form-group">
                <label class="section-label">Target Details</label>
                <input type="text" name="location" id="location" placeholder="Location"
                    style="margin-bottom: 10px; width: 100%; padding: 10px;">
                <div style="display: flex; gap: 10px;">
                    <input type="number" name="num_people" id="numPeople" placeholder="Number of People"
                        style="flex: 1; padding: 10px;">
                    <input type="text" name="age_group" id="ageGroup" placeholder="Age Group (e.g., 5-10 yrs)"
                        style="flex: 1; padding: 10px;">
                </div>
            </div>

            <!-- 3. Purpose of Funding -->
            <div class="form-group">
                <label class="section-label">3. Purpose of Funding</label>
                <p class="helper-text">What the money will be used for (select multiple):</p>

                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" name="purpose[]" value="clothes">
                        <span>Clothes</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="purpose[]" value="food">
                        <span>Food</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="purpose[]" value="medical">
                        <span>Medical Items</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="purpose[]" value="other">
                        <span>Other</span>
                    </label>
                    <input type="text" name="other_purpose" id="otherPurpose" placeholder="type..." class="other-input">
                </div>
            </div>

            <!-- 3. Funding Goal -->
            <div class="form-group">
                <label class="section-label">3. Funding Goal Amount</label>
                <p class="helper-text">How much money do you need to raise?</p>
                <input type="number" name="amount_needed" placeholder="Enter amount in BDT (à§³)" min="1" step="0.01"
                    required
                    style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px; font-size: 16px;">
            </div>

            <!-- 4. Proof & Verification -->
            <div class="form-group">
                <label class="section-label">4. Additional Documents <span class="required">*</span></label>
                <p class="helper-text">Upload supporting documents (required):</p>
                <ol class="upload-list">
                    <li>Photos of incident / past work</li>
                    <li>Short video</li>
                    <li>Official letter / medical doc (optional)</li>
                    <li>News report screenshot</li>
                    <li>Location images</li>
                </ol>

                <select name="doc_type" required style="margin-bottom: 10px; width: 100%; padding: 10px;">
                    <option value="" disabled selected>Select Document Type</option>
                    <option value="proof">Proof of Incident</option>
                    <option value="medical">Medical Document</option>
                    <option value="bill">Bill/Cost Estimate</option>
                    <option value="other">Other</option>
                </select>

                <button type="button" class="upload-btn" id="documentUploadBtn">Choose Files ðŸ“Ž</button>
                <input type="file" name="crowd_documents[]" id="fileUpload"
                    accept="image/jpeg,image/jpg,image/png,image/gif,image/webp,application/pdf,video/mp4,video/quicktime"
                    multiple required hidden>
                <div id="fileList" style="margin-top: 10px; color: #00bfa5; font-size: 14px;"></div>
                <p style="color: #ff6b6b; font-size: 12px; margin-top: 5px;">* At least one document is required</p>
            </div>

            <!-- 5. Distribution / Action Plan -->
            <div class="form-group">
                <label class="section-label">5. Distribution / Action Plan</label>
                <p class="helper-text">User explains:<br>- What they will distribute<br>- With whom (volunteers/team)
                </p>
                <textarea name="action_plan" id="actionPlan" rows="4"></textarea>
            </div>

            <!-- Extra Fields for DB -->
            <div class="form-group">
                <label class="section-label">Additional Info</label>
                <p>Will you share receipts after spending?</p>
                <div class="repayment-options"> <!-- Using same style class -->
                    <label class="checkbox-label">
                        <input type="radio" name="share_receipts" value="yes" checked>
                        <span>Yes</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="radio" name="share_receipts" value="no">
                        <span>No</span>
                    </label>
                </div>

                <p style="margin-top: 15px;">How will extra funds be handled?</p>
                <textarea name="extra_funds_handling" placeholder="e.g., Donate to charity, usage for next event..."
                    rows="2" style="width: 100%; padding: 10px;"></textarea>
            </div>

            <!-- Final Confirmation -->
            <div class="form-group">
                <label class="checkbox-label confirmation">
                    <input type="checkbox" id="updateCommitment" required>
                    <span class="confirmation-text">I agree to post updates regarding the progress of this
                        fundraiser.</span>
                </label>
                <br>
                <label class="checkbox-label confirmation">
                    <input type="checkbox" id="confirmation" required>
                    <span class="confirmation-text">I confirm that the information provided is accurate and I take full
                        responsibility for any false or misleading details.</span>
                </label>
            </div>

            <!-- Submit Button -->
            <button type="submit" name="submit_fundraiser" class="submit-btn"
                style="background: #27ae60; color: white; border: none; padding: 15px 30px; border-radius: 8px; font-size: 1.1em; cursor: pointer; width: 100%; margin-top: 20px;">Create
                Fundraiser</button>
        </form>
    </div>

    <!-- Footer -->
    <div id="footerPlaceholder"></div>

    <script src="javascript/header-footer.js"></script>
    <script src="javascript/funding-interface-form.js"></script>
</body>

</html>